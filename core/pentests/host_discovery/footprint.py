import requests
from typing import Optional
""" from app.exceptions import TargetException
from core.utils.validation import TargetValidation """


def footprinting(url: str, method: Optional[str] = "GET"):

    res = requests.request(method, url)
    ret = {
        "url": url,
        "method": res.request.method,
        "server": res.headers.get("server", None),
        "powered_by": res.headers.get("x-powered-by", None),
        "status_code": res.status_code,
        "headers": dict(res.headers.items())
    }

    return ret


if __name__ == "__main__":
    print(footprinting("https://meemdtt.com/asdasdasd", "POST"))
