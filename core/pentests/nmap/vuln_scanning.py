import os
import nmap3

nmap = nmap3.Nmap()



def extract_live_ips(results):
    for ip_address, result in results.items():
        try:
            if result['state']['state'] == 'up':
                print(f"{ip_address} is up", "\n")
        except:
            pass

try:
    os.system("clear")
    target = str(input("Enter the target: "))    
    switch = int(input("""Enter the script category: 
                       1- Authentication
                       2- Vulnerability
                       3- DOS
                       4- Broadcast
                       5- Bruteforce
                       6- Discovery
                       7- Fuzzer
                       8- Malware
                       :   """))
    os.system("clear")
    match switch:
        case 1:
            os.system("ls /usr/share/nmap/scripts/ | grep auth | nl")
        case 2:
            os.system("ls /usr/share/nmap/scripts/ | grep vuln | nl")
        case 3:
            os.system("ls /usr/share/nmap/scripts/ | grep dos | nl")
        case 4:
            os.system("ls /usr/share/nmap/scripts/ | grep broad | nl")
        case 5:
            os.system("ls /usr/share/nmap/scripts/ | grep brute | nl")
        case 6:
            os.system("ls /usr/share/nmap/scripts/ | grep disc | nl")
        case 7:
            os.system("ls /usr/share/nmap/scripts/ | grep fuzz | nl")
        case 8:
            os.system("ls /usr/share/nmap/scripts/ | grep malw | nl")
    scripts = input("Enter a comma-seperated list of scripts: ")
    port =  input("Enter the port no.: ")
    os.system("nmap -T4 -Pn -p" + port + " --script " + scripts + " " + target)
except Exception as e:
    print(e)
# extract_live_ips(results)